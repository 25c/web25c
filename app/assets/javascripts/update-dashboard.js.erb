$.extend( $.fn.dataTableExt.oStdClasses, {
    "sWrapper": "dataTables_wrapper form-inline"
} );

$(document).ready(function(){
  
  // activate data tables
  $('table.clicks-table').dataTable({
    // sizing and style
    "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
    "sPaginationType": "bootstrap",
    "aaSorting": [[ 0, "desc" ]],   // start with sorting by first col (date), descending
    "aoColumns": [                  // define setting for each col
      {"bVisible": false},          // invisible sortable date col
      {"iDataSort": 0},             // visible readable date - sorting linked to col 0
      null,
      null,
      null,
      {"bSortable": false}          // don't sort by buttons
    ]
  });

  // bind click deleting action to buttons
  $(".delete-click").click(function() {
    if (confirm(confirmDelete)) {
      $this = $(this);
      $.post(deleteClickUrl, { click_id: $this.attr('data-click_id') });
      $this.parent().parent().fadeOut('slow');
    }
  });
  
  // bind process all action to button
  $("#process-clicks").click(function() {
    if (hasNewClicks && confirm(confirmProcess)) {
      $this = $(this);
      $.post(processClicksUrl, {});
      $('#process-message').show().delay('3000').fadeOut('fast');
      $('table#clicks-given td.click-state').text(clickState1);
      $this.removeClass('btn-primary').attr('disabled', 'disabled');
    }
  });
});