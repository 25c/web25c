$.extend( $.fn.dataTableExt.oStdClasses, {
    "sWrapper": "dataTables_wrapper form-inline"
} );

$(document).ready(function(){
  
  // activate data tables
  $('table.clicks-table').dataTable({
    // sizing and style
    "sDom": "t<'row'<'span6'i><'span6'p>>",
    "iDisplayLength": 100,
    "sPaginationType": "bootstrap",
    "aaSorting": [[ 1, "desc" ]],   // start with sorting by first col (date), descending
    "aoColumns": [                  // define setting for each col
      {"bVisible": false},          // invisible sortable count col
      {"iDataSort": 0},              // click count - sorting linked to raw number
      null,
      null,
      {"bVisible": false},          // invisible sortable date col
      {"iDataSort": 5},              // visible readable date - sorting linked to raw date
    ]
  });
  
  // bind process all action to button
  $("#process-clicks").click(function() {
    if (hasNewClicks && confirm(confirmProcess)) {
      $this = $(this);
      $.post(processClicksUrl, {});
      $('#process-message').show().delay('3000').fadeOut('fast');
      $this.removeClass('btn-warning').attr('disabled', 'disabled');
    }
  });
  
  $(".dataTables_paginate > ul > li.disabled").parent().parent().hide();
});